<div class="container">
    <div class="row">
        <div class="col s12">
            <br />
        </div>
        <div class="col s12">
            <rs-breadcrumb>
                <rs-breadcrumb-item to="/rs-json/" text="Home" />
                <rs-breadcrumb-item to="/rs-json/documentation" text="Documentation" />
                <rs-breadcrumb-item to="/rs-json/documentation/guards" text="Guards" />
            </rs-breadcrumb>
        </div>
        <div class="col s12"><br></div>
        <div class="col s12 m8 l6 offset-m2 offset-l3">
            <div class="collection">
                <rs-collection-item to="/rs-json/documentation/native-guards" text="Native guards" />
                <rs-collection-item to="/rs-json/documentation/custom-guards" text="Custom guards" />
            </div>
        </div>
        <div class="col s12">
            <p class="flow-text">
                Guards fill 2 roles.
            </p>
            <p class="flow-text">Validating (or not) data coming to your app back-end. This can means a user filling a form or an app using an API for example.</p>
            <p class="flow-text">Filling parameter for your property when it obviously need it.</p>
            <p class="flow-text">Here is an example of guards that validate that a number is greater than 0.</p>
        </div>
        <div class="col s12 m8 l6 offset-m2 offset-l3">
            <div class="card white">
                <div class="card-content">
                    <div class="card-title">example.rs.json</div>
                    <pre><code class="language-json">{
  "version": "0.1.0",
  "license": "MIT",
  "charset": "utf8",
  "schema": {
    "product": {
      "properties": {
        "price": {
          "type": "float",
          "guards": ["positive"]
        }
      }
    }
  }
}</code></pre>
                </div>
            </div>
        </div>
        <div class="col s12">
            <p class="flow-text">Guards will perform on the server-side, so if you are creating a database, they are ignored.</p>
            <p class="flow-text">Guards validate data coming from your back-end, to insert or update one record. So they will not be triggered if you perform an insertion outside an ORM that supports on RS/JSON.</p>
        </div>
        <div class="col s12">
            <p class="flow-text">The philosophy of a guard is: validating general feature. Because this is a fuzzy concept, here is a good example of guard.</p>
        </div>
        <div class="col s12 m8 l6 offset-m2 offset-l3">
            <div class="card white">
                <div class="card-content">
                    <div class="card-title">example.rs.json</div>
                    <pre><code class="language-json">{
  "version": "0.1.0",
  "license": "MIT",
  "charset": "utf8",
  "schema": {
    "position": {
      "properties": {
        "longitude": {
          "type": "float",
          "guards": ["longitude"]
        }
      }
    }
  }                        
}</code></pre>
                </div>
            </div>
        </div>
        <div class="col s12">
            <p class="flow-text">This is a well designed guard because it address a general feature, the longitude.</p>
            <p class="flow-text">Now let us look at a less relevant guard.</p>
        </div>
        <div class="col s12 m8 l6 offset-m2 offset-l3">
            <div class="card white">
                <div class="card-content">
                    <div class="card-title">example.rs.json</div>
                    <pre><code class="language-json">{
  "version": "0.1.0",
  "license": "MIT",
  "charset": "utf8",
  "schema": {
    "position": {
      "properties": {
        "longitude": {
          "type": "float",
          "guards": ["france-longitude"]
        }
      }
    }
  }
}</code></pre>
                </div>
            </div>
        </div>
        <div class="col s12">
            <p class="flow-text">This is a bad guard because it contains a business logic. This is not a general purpose guard. Here is how we would use guards to fit our need.</p>
        </div>
        <div class="col s12 m8 l6 offset-m2 offset-l3">
            <div class="card white">
                <div class="card-content">
                    <div class="card-title">example.rs.json</div>
                    <pre><code class="language-json">{
  "version": "0.1.0",
  "license": "MIT",
  "charset": "utf8",
  "schema": {
  "position": {
    "properties": {
      "longitude": {
        "type": "float",
        "guards": ["longitude", "min:4", "max:8"]
        }
      }
    }
  }
}</code></pre>
                </div>
            </div>
        </div>
        <div class="col s12">
            <p class="flow-text">This guard is better for two reason.</p>
            <p class="flow-text">It does not contain specific business logic.</p>
            <p class="flow-text">It is explicitly stating that the longitude of the France are between 4 and 8 decimal degrees.</p>
        </div>
    </div>
    <rs-edit-proposal-fab href="https://github.com/khalyomede/rs-json/edit/gh-pages/rs-json/html/template/documentation/guards.html" />
</div>